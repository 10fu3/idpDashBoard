(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{403:function(t,e,r){"use strict";r.r(e);r(142),r(17);var n={created:function(){var t=this;(this.apiserver="http://localhost",localStorage.getItem("authorization"))&&fetch(this.apiserver+"/oauth2/v1/token/",{method:"get",headers:new Headers({Authorization:localStorage.getItem("authorization")})}).then((function(t){return t.json()})).then((function(e){t.services=[];for(var i=0;i<e.length;i++){var a=e[i];t.services.push({name:a.service_name,id:a.id,icon:a.icon_url,perms:a.permissions})}}))},methods:{deleteLink:function(t){var e=this;fetch(this.apiserver+"/oauth2/v1/revoke/",{method:"post",headers:new Headers({Authorization:localStorage.getItem("authorization")}),body:JSON.stringify({id:this.services[t].id})}).then((function(r){r.ok?e.services.splice(t,1):alert("エラーが起きました")}))},getPermMsg:function(t){switch(String(t).toLowerCase()){case"read_uuid":return"あなたを識別します";case"edit_uuid":return"識別するためのIDを編集します";case"read_mail":return"あなたのメールアドレスを読み取ります";case"edit_mail":return"登録されたメールアドレスを編集します";case"read_profile":return"あなたのプロフィールを読み取ります";case"edit_profile":return"あなたのプロフィールを編集します";case"read_last_login_time":return"最後にログインした時刻を読み取ります";case"delete_self_account":return"あなたのアカウントを削除します";default:return"?"}}},data:function(){return{services:[]}}},o=r(74),c=r(108),l=r.n(c),v=r(231),d=r(345),h=r(396),m=r(139),_=r(100),f=r(167),w=r(66),k=r(401),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",[r("v-col",{staticClass:"text-center"},[r("v-row",{attrs:{justify:"center","align-content":"center"}},[r("v-col",[r("h3",{staticClass:"font-weight-light",attrs:{align:"center"}},[t._v("\n                          連携アカウント一覧\n              ")]),t._v(" "),0==t.services.length?r("div",[r("p",[t._v("連携済みのサービスはありません")])]):r("div",[t._l(t.services,(function(e,n){return[r("v-card",{key:"div-"+n,staticClass:"mx-auto mt-5",attrs:{elevation:"12"}},[r("v-list-item",{key:e.id},[r("v-img",{attrs:{"max-width":"70px","max-height":"70px",src:e.icon}}),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[r("h3",{staticClass:"font-weight-light"},[t._v(t._s(e.name))])]),t._v(" "),r("p",{staticClass:"text-left mb-5 ml-5"},[t._v("権限")]),t._v(" "),t._l(e.perms,(function(e,n){return r("v-list-item",{key:"div-"+n+"-"+n},[r("p",[t._v("･ "+t._s(t.getPermMsg(e)))])])}))],2),t._v(" "),r("v-list-item-action",[r("v-btn",{attrs:{depressed:"",color:"error"},on:{click:function(e){return e.stopPropagation(),t.deleteLink(n)}}},[t._v("\n                            削除\n                          ")])],1)],1)],1)]}))],2)])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:v.a,VCard:d.a,VCol:h.a,VImg:m.a,VListItem:_.a,VListItemAction:f.a,VListItemContent:w.a,VListItemTitle:w.b,VRow:k.a})}}]);